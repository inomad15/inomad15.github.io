---
title: "경제 뉴스와 코스피 주가지수와의 상관관계 연구"
author: "최홍배"
date: "2015년 11월 5일"
output:
  html_document: default
  pdf_document:
    latex_engine: xelatex
mainfont: NanumGothic
---

###1. 개요
  매일의 주식시장은 변화무쌍하다. 주가지수가 오르내림에 따라 시장의 분위기는 차가워지기도 하고 뜨겁게 달아오르기도 한다. 주식의 가격은 결국 시장에 참가하고 있는 사람들에 의해 결정된다. 주가를 예측하는 객관적인 지표를 찾으려는 노력은 이전부터 계속되어져 왔지만 통용되고있는 여러가지 방법들 중 어느하나 확실하고 범용되는 것은 없다. 

  주가를 예측하기 위한 여러방법 중에서 시장에 관한 뉴스를 평가하여 예측하는 **뉴스 매매기법**이 있다. 이미 오랜된 방법이긴 하지만 사람들의 심리를 읽고 예측하는 일이기 때문에 확실하지도 않고 매우 어려운 작업이다. 쏟아져 나오는 수많은 뉴스를 전부 수집하는 일 자체가 어렵고, 엄청난 양의 정보를 일일이 하나하나 분석하는 일은 더욱 어렵다.

  최근에 **빅데이터 분석기법**이 발전되면서 상상을 초월하고 실시간으로 쏟아지는 무작위적인 데이터를 수집, 가공, 분석, 예측하는 일이 점점더 쉬워지고 있다. 이것은 컴퓨터의 발전과 통계기법의 발전 덕분이다. 

  본 연구에서는 간단한 통계분석 프로그래밍을 통하여 주식관련 뉴스를 수집하고 통계분석을 실시하여 주가지수의 변화를 관찰, 분석한 후 향후의 주가지수를 예측할 수 있는지를 평가해 보고자 한다.
 
###2. 연구 방법 및 과정
연구 방법은 다음과 같다.

* 경제관련 뉴스사이트 및 트위터 키워드 검색을 통하여 주식관련 뉴스 수집
* 통계언어 `R`을 이용하여 데이터 분석
* 그래프를 이용한 시각화

###3. 연구 결과

####1) 관련 패키지 불러오기
```{r message=FALSE}
library(ggplot2)
library(grid)
library(gridExtra)
library(ggvis)
```

####2) 저장된 파일 불러오기
```{r}
setwd("~/Documents/Rstudy/토픽분석/정보스크랩")
stock = read.csv('stock.csv')
stock
```

####3) 수치입력 = 날짜, 긍정단어, 부정단어, 단어의 합, 긍정도, 코스피지수
```{r}
reading = c(110509, 877, 343, 659, 71.9, 2047)
stock = rbind(stock, reading)
```

####4) 그래프로 나타내기
```{r}
stock$date = as.character(stock$date)
p1 = ggplot(stock, aes(x=date, y=percent.r, group=1)) + geom_line() + geom_point() +
  ylim(60,80) + theme(text=element_text(family='나눔고딕')) + ggtitle('경제 뉴스 긍정도')
p2 = ggplot(stock, aes(x=date, y=kospi, group=1)) + geom_line() + geom_point() +
  theme(text=element_text(family='나눔고딕')) + ggtitle('코스피 지수')
grid.arrange(p1, p2)

stock %>% ggvis(~percent.r, ~kospi, stroke := "blue") %>% 
  layer_points() %>% layer_smooths()
  ```
